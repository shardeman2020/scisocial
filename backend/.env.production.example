# ==============================================
# SCISOCIAL BACKEND - PRODUCTION
# ==============================================
# Copy this file to .env.production and fill in the values

# Environment
NODE_ENV=production
PORT=3001

# Database Configuration (PostgreSQL 16 with pgvector)
DATABASE_HOST=your-postgres-host.example.com
DATABASE_PORT=5432
DATABASE_USER=scisocial_prod
DATABASE_PASSWORD=CHANGE_THIS_SECURE_PASSWORD_MIN_32_CHARS
DATABASE_NAME=sci_social_prod

# Or use connection string format:
# DATABASE_URL=postgresql://scisocial_prod:password@host:5432/sci_social_prod?schema=public

# Redis Configuration
REDIS_HOST=your-redis-host.example.com
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password  # If password protected
# Or use connection string:
# REDIS_URL=redis://:password@host:6379

# CORS Configuration
CORS_ORIGIN=https://scisocial.pro,https://www.scisocial.pro,https://admin.scisocial.pro
ALLOWED_ORIGINS=https://scisocial.pro,https://www.scisocial.pro

# API Keys - Citation Services
CROSSREF_API_EMAIL=your-email@example.com
# PUBMED_API_KEY=optional-pubmed-key
# SEMANTIC_SCHOLAR_API_KEY=optional-semantic-scholar-key

# AI/ML Configuration
ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
# Alternative: Use OpenAI
# OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxx
# OPENAI_MODEL=gpt-4-turbo-preview

# Embedding Model (Xenova/all-MiniLM-L6-v2)
# No API key needed - runs locally via @xenova/transformers

# Email Configuration (SMTP)
EMAIL_HOST=smtp.sendgrid.net
# OR: smtp.gmail.com, smtp.mailgun.org, smtp.postmarkapp.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=apikey
EMAIL_PASSWORD=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=noreply@scisocial.pro
EMAIL_FROM_NAME=SciSocial

# Weekly Digest Schedule (cron format)
DIGEST_CRON_SCHEDULE=0 9 * * 1
# Every Monday at 9 AM UTC

# File Upload Configuration
MAX_FILE_SIZE=52428800
# 50MB in bytes
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/gif,image/webp
UPLOAD_DIR=./uploads

# Optional: Cloud Storage (S3/Spaces)
# STORAGE_TYPE=s3
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=...
# AWS_S3_BUCKET=scisocial-uploads-prod
# AWS_S3_REGION=us-east-1
# CDN_URL=https://cdn.scisocial.pro

# Security
JWT_SECRET=CHANGE_THIS_SUPER_SECRET_JWT_KEY_MIN_64_CHARS_RANDOM_STRING
JWT_EXPIRATION=7d
# BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Logging
LOG_LEVEL=info
# Options: error, warn, info, debug

# Application URLs (for emails, OAuth callbacks)
FRONTEND_URL=https://scisocial.pro
ADMIN_URL=https://admin.scisocial.pro
BACKEND_URL=https://api.scisocial.pro

# Optional: OAuth Providers
# GOOGLE_CLIENT_ID=xxxxx.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxxx
# GOOGLE_CALLBACK_URL=https://api.scisocial.pro/auth/google/callback

# Optional: Error Tracking
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
# SENTRY_ENVIRONMENT=production
